<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@500&family=Cormorant+Garamond:wght@500&display=swap" rel="stylesheet">

<style>

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    background:black;
    height:100vh;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:'Cormorant Garamond', serif;
    color:white;
}

/* PLAY BUTTON */

.play-wrapper{
    position:absolute;
    display:flex;
    justify-content:center;
    align-items:center;
    width:100%;
    height:100%;
    z-index:10;
}

.play-btn{
    width:120px;
    height:120px;
    border-radius:50%;
    border:3px solid white;
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    transition:0.3s ease;
}

.play-btn:hover{
    background:white;
}

.play-btn:hover .triangle{
    border-left-color:black;
}

.triangle{
    width:0;
    height:0;
    border-top:20px solid transparent;
    border-bottom:20px solid transparent;
    border-left:35px solid white;
    margin-left:6px;
    pointer-events:none; /* Fix click bug */
}

/* LYRICS STYLE */

#lyrics{
    position:absolute;
    width:80%;
    text-align:center;
    font-size:38px;
    line-height:1.8;
    font-family:'Playfair Display', serif;
    opacity:0;
    transition:opacity 1.5s ease;
    z-index:1; 
    pointer-events:none;
}

/* FINAL CURVED TEXT */

#final{
    position:absolute;
    font-family:'Great Vibes', cursive;
    font-size:75px;
    opacity:0;
    transform:rotate(-8deg);
    transition:opacity 2s ease;
    z-index:1; 
    pointer-events:none; 
}
/* ================= MOBILE RESPONSIVE ================= */

@media (max-width: 768px){

    .play-btn{
        width:90px;
        height:90px;
    }

    .triangle{
        border-top:14px solid transparent;
        border-bottom:14px solid transparent;
        border-left:25px solid white;
    }

    #lyrics{
        font-size:22px;
        width:90%;
        line-height:1.6;
    }

    #final{
        font-size:42px;
        text-align:center;
        width:90%;
        transform:rotate(-5deg);
    }

}

</style>
</head>

<body>

<div class="play-wrapper">
    <div class="play-btn" id="playBtn">
        <div class="triangle"></div>
    </div>
</div>

<div id="lyrics"></div>

<div id="final">Happy Birthday, Akshata</div>

<audio id="audio" preload="auto">
    <source src="final_audio.mp3" type="audio/mpeg">
</audio>


<script>

const audio = document.getElementById("audio");
const playBtn = document.getElementById("playBtn");
const lyrics = document.getElementById("lyrics");
const finalText = document.getElementById("final");

const lines = [
{time:5, text:"Hi, Akshata."},
{time:15, text:"If you're hearing this… it means you held that button long enough."},
{time:28, text:"I practiced this recording three times… and somehow this awkward one felt the most real."},
{time:60, text:"I wanted to tell you all this long before… but never got the chance."},
{time:85, text:"I tried three times to meet you. Three times I was so close."},
{time:100, text:"And then… there were those three months when you just disappeared."},
{time:130, text:"The first week was the hardest."},
{time:150, text:"But even in the middle of all that noise… you were still there."},
{time:170, text:"Somewhere in the back of my mind… you stayed."},
{time:235, text:"But if life gives me one proper chance… I won’t waste it."},
{time:260, text:"And if I stand next to you again… it won’t be just one photo this time."},
{time:290, text:"I’m taking at least 200 photos before you say, 'This one is perfect.'"},
{time:315, text:"Happy birthday. Happiest birthday."},
{time:345, text:"If you ever forget how important you are…"},
{time:360, text:"Remember — somewhere there is a guy who turned your birthday into a complete website."}
];

let current = 0;

playBtn.addEventListener("click", ()=>{
    document.querySelector(".play-wrapper").style.display = "none";

    audio.play().then(()=>{
        // optional fade in
        audio.volume = 0;
        let fade = setInterval(()=>{
            if(audio.volume < 0.4){
                audio.volume += 0.05;
            } else {
                clearInterval(fade);
            }
        },150);
    }).catch(()=>{});
});


audio.addEventListener("timeupdate", ()=>{

    if(current < lines.length && audio.currentTime >= lines[current].time){

        lyrics.style.opacity = 0;

        setTimeout(()=>{
            lyrics.innerText = lines[current].text;
            lyrics.style.opacity = 1;
        },700);

        current++;
    }

    if(audio.ended){
        lyrics.style.opacity = 0;

        setTimeout(()=>{
            finalText.style.opacity = 1;
        },1500);
    }

});

</script>

</body>
</html>